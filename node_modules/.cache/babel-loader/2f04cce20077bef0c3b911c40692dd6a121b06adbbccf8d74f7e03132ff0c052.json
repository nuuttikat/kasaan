{"ast":null,"code":"import React,{useRef,useEffect}from'react';import emailjs from'emailjs-com';import'../componentscontact/EmailSender.css';// Tämä komponentti lähettää sähköpostin valituilla osilla\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailSender2=_ref=>{let{selectedModules}=_ref;const form=useRef();// Viittaus lomakkeeseen\n// Päivittää viestikentän valituilla osilla aina kun selectedModules muuttuu\nuseEffect(()=>{if(form.current){form.current.elements.message.value=`Valitut osat: ${selectedModules.join(', ')}`;}},[selectedModules]);// Käsittelee sähköpostin lähetyksen\nconst sendEmail=e=>{e.preventDefault();emailjs.sendForm('service_28112024','template_tpru27a',form.current,'L4M6jh_xRukKF_ap3').then(result=>{console.log(result.text);alert('Viesti lähetetty onnistuneesti!');},error=>{console.log(error.text);alert('Viestiä ei voitu lähettää.');});};return/*#__PURE__*/_jsxs(\"form\",{ref:form,onSubmit:sendEmail,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nimi\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"S\\xE4hk\\xF6posti\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Puhelinnumero\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Viesti\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",required:true,defaultValue:`Valitut osat: ${selectedModules.join(', ')}`}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"L\\xE4het\\xE4 tarjous pyynt\\xF6\"})]});};export default EmailSender2;","map":{"version":3,"names":["React","useRef","useEffect","emailjs","jsx","_jsx","jsxs","_jsxs","EmailSender2","_ref","selectedModules","form","current","elements","message","value","join","sendEmail","e","preventDefault","sendForm","then","result","console","log","text","alert","error","ref","onSubmit","children","type","name","required","defaultValue"],"sources":["C:/KaSaAnOy/src/componentsbuild/EmailSender2.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport '../componentscontact/EmailSender.css';\r\n\r\n// Tämä komponentti lähettää sähköpostin valituilla osilla\r\nconst EmailSender2 = ({ selectedModules }) => {\r\n    const form = useRef(); // Viittaus lomakkeeseen\r\n\r\n    // Päivittää viestikentän valituilla osilla aina kun selectedModules muuttuu\r\n    useEffect(() => {\r\n        if (form.current) {\r\n            form.current.elements.message.value = `Valitut osat: ${selectedModules.join(', ')}`;\r\n        }\r\n    }, [selectedModules]);\r\n\r\n    // Käsittelee sähköpostin lähetyksen\r\n    const sendEmail = (e) => {\r\n        e.preventDefault();\r\n\r\n        emailjs.sendForm('service_28112024', 'template_tpru27a', form.current, 'L4M6jh_xRukKF_ap3')\r\n            .then((result) => {\r\n                console.log(result.text);\r\n                alert('Viesti lähetetty onnistuneesti!');\r\n            }, (error) => {\r\n                console.log(error.text);\r\n                alert('Viestiä ei voitu lähettää.');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <form ref={form} onSubmit={sendEmail}>\r\n            <label>Nimi</label>\r\n            <input type=\"text\" name=\"name\" required />\r\n\r\n            <label>Sähköposti</label>\r\n            <input type=\"email\" name=\"email\" required />\r\n\r\n            <label>Puhelinnumero</label>\r\n            <input type=\"tel\" name=\"phone\" required />\r\n\r\n            <label>Viesti</label>\r\n            <textarea name=\"message\" required defaultValue={`Valitut osat: ${selectedModules.join(', ')}`} />\r\n\r\n            <input type=\"submit\" value=\"Lähetä tarjous pyyntö\" />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default EmailSender2;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAChD,MAAO,CAAAC,OAAO,KAAM,aAAa,CACjC,MAAO,sCAAsC,CAE7C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CACrC,KAAM,CAAAE,IAAI,CAAGV,MAAM,CAAC,CAAC,CAAE;AAEvB;AACAC,SAAS,CAAC,IAAM,CACZ,GAAIS,IAAI,CAACC,OAAO,CAAE,CACdD,IAAI,CAACC,OAAO,CAACC,QAAQ,CAACC,OAAO,CAACC,KAAK,CAAG,iBAAiBL,eAAe,CAACM,IAAI,CAAC,IAAI,CAAC,EAAE,CACvF,CACJ,CAAC,CAAE,CAACN,eAAe,CAAC,CAAC,CAErB;AACA,KAAM,CAAAO,SAAS,CAAIC,CAAC,EAAK,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBhB,OAAO,CAACiB,QAAQ,CAAC,kBAAkB,CAAE,kBAAkB,CAAET,IAAI,CAACC,OAAO,CAAE,mBAAmB,CAAC,CACtFS,IAAI,CAAEC,MAAM,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,IAAI,CAAC,CACxBC,KAAK,CAAC,iCAAiC,CAAC,CAC5C,CAAC,CAAGC,KAAK,EAAK,CACVJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAACF,IAAI,CAAC,CACvBC,KAAK,CAAC,4BAA4B,CAAC,CACvC,CAAC,CAAC,CACV,CAAC,CAED,mBACInB,KAAA,SAAMqB,GAAG,CAAEjB,IAAK,CAACkB,QAAQ,CAAEZ,SAAU,CAAAa,QAAA,eACjCzB,IAAA,UAAAyB,QAAA,CAAO,MAAI,CAAO,CAAC,cACnBzB,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,MAAM,CAACC,QAAQ,MAAE,CAAC,cAE1C5B,IAAA,UAAAyB,QAAA,CAAO,kBAAU,CAAO,CAAC,cACzBzB,IAAA,UAAO0B,IAAI,CAAC,OAAO,CAACC,IAAI,CAAC,OAAO,CAACC,QAAQ,MAAE,CAAC,cAE5C5B,IAAA,UAAAyB,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5BzB,IAAA,UAAO0B,IAAI,CAAC,KAAK,CAACC,IAAI,CAAC,OAAO,CAACC,QAAQ,MAAE,CAAC,cAE1C5B,IAAA,UAAAyB,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBzB,IAAA,aAAU2B,IAAI,CAAC,SAAS,CAACC,QAAQ,MAACC,YAAY,CAAE,iBAAiBxB,eAAe,CAACM,IAAI,CAAC,IAAI,CAAC,EAAG,CAAE,CAAC,cAEjGX,IAAA,UAAO0B,IAAI,CAAC,QAAQ,CAAChB,KAAK,CAAC,gCAAuB,CAAE,CAAC,EACnD,CAAC,CAEf,CAAC,CAED,cAAe,CAAAP,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}